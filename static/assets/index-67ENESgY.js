var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,n=(e,a)=>{for(var s in a||(a={}))r.call(a,s)&&l(e,s,a[s]);if(t)for(var s of t(a))i.call(a,s)&&l(e,s,a[s]);return e},o=(e,t)=>a(e,s(t));import{S as c,ac as d,a5 as p,bD as m,bw as u,_ as v,d as f,N as x,a as g,c as y,a0 as b,bA as j,w as h,e as w,f as _,y as M,j as k,g as S,u as z,z as O,an as E,a1 as A,i as C,ah as V,aJ as P,o as B,aF as D,aA as F,E as G,p as K,h as N,m as T,a$ as I,a3 as J,am as Q,B as R,az as U,F as $,G as q,dF as H,dG as L,l as W,n as X}from"./index-DtLPO4VG.js";import{E as Y}from"./el-drawer-CZHFtFvD.js";/* empty css                   */import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-B1k7ctHe.js";/* empty css                 *//* empty css                  */import{m as ee}from"./avatar6-6Evj8BB9.js";import{a as ae}from"./avatar10-Dom60BwY.js";import{E as se}from"./index-DbLJzq82.js";import{E as te}from"./index-B1oc1BI_.js";import"./index-ClKRQ_I3.js";import"./vnode-C8cdOOkd.js";import"./index-CP_mWmfc.js";import"./index-BrpO1YGF.js";import"./aria-Dle50h-X.js";import"./use-dialog-BBStnoor.js";import"./event-BwRzfsZt.js";import"./index-B-FCdvUf.js";import"./index-Dw6dGDDE.js";const re=c({size:{type:[Number,String],values:u,default:"",validator:e=>m(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:p},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:d(String),default:"cover"}}),ie={error:e=>e instanceof Event},le=f({name:"ElAvatar"});const ne=V(v(f(o(n({},le),{props:re,emits:ie,setup(e,{emit:a}){const s=e,t=x("avatar"),r=g(!1),i=y(()=>{const{size:e,icon:a,shape:r}=s,i=[t.b()];return b(e)&&i.push(t.m(e)),a&&i.push(t.m("icon")),r&&i.push(t.m(r)),i}),l=y(()=>{const{size:e}=s;return m(e)?t.cssVarBlock({size:j(e)||""}):void 0}),n=y(()=>({objectFit:s.fit}));function o(e){r.value=!0,a("error",e)}return h(()=>s.src,()=>r.value=!1),(e,a)=>(_(),w("span",{class:C(z(i)),style:S(z(l))},[!e.src&&!e.srcSet||r.value?e.icon?(_(),M(z(A),{key:1},{default:O(()=>[(_(),M(E(e.icon)))]),_:1})):k(e.$slots,"default",{key:2}):(_(),w("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:S(z(n)),onError:o},null,44,["src","alt","srcset"]))],6))}})),[["__file","avatar.vue"]])),oe={class:"mb-5 flex-cb"},ce={class:"mt-1.5 flex-c gap-1"},de={class:"text-xs text-g-600"},pe={class:"flex h-[calc(100%-70px)] flex-col"},me={class:"font-medium"},ue={class:"text-g-600"},ve={class:"px-4 pt-4"},fe={class:"flex gap-2 py-2"},xe={class:"mt-3 flex-cb"},ge={class:"flex-c"},ye="Art Bot",be="Ricky",je=f(o(n({},{name:"ArtChatWindow"}),{__name:"index",setup(e){const{width:a}=P(),s=y(()=>a.value<640),t=g(!1),r=g(!0),i=g(""),l=g(10),n=g(null),o=g([{id:1,sender:ye,content:"你好！我是你的AI助手，有什么我可以帮你的吗？",time:"10:00",isMe:!1,avatar:ae},{id:2,sender:be,content:"我想了解一下系统的使用方法。",time:"10:01",isMe:!0,avatar:ee},{id:3,sender:ye,content:"好的，我来为您介绍系统的主要功能。首先，您可以通过左侧菜单访问不同的功能模块...",time:"10:02",isMe:!1,avatar:ae},{id:4,sender:be,content:"听起来很不错，能具体讲讲数据分析部分吗？",time:"10:05",isMe:!0,avatar:ee},{id:5,sender:ye,content:"当然可以。数据分析模块可以帮助您实时监控关键指标，并生成详细的报表...",time:"10:06",isMe:!1,avatar:ae},{id:6,sender:be,content:"太好了，那我如何开始使用呢？",time:"10:08",isMe:!0,avatar:ee},{id:7,sender:ye,content:"您可以先创建一个项目，然后在项目中添加相关的数据源，系统会自动进行分析。",time:"10:09",isMe:!1,avatar:ae},{id:8,sender:be,content:"明白了，谢谢你的帮助！",time:"10:10",isMe:!0,avatar:ee},{id:9,sender:ye,content:"不客气，有任何问题随时联系我。",time:"10:11",isMe:!1,avatar:ae}]),c=()=>{X(()=>{setTimeout(()=>{n.value&&(n.value.scrollTop=n.value.scrollHeight)},100)})},d=()=>{const e=i.value.trim();if(!e)return;const a={id:l.value++,sender:be,content:e,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isMe:!0,avatar:ee};o.value.push(a),i.value="",c()},p=()=>{t.value=!0,c()},m=()=>{t.value=!1};return B(()=>{c(),D.on("openChat",p)}),F(()=>{D.off("openChat",p)}),(e,a)=>{const l=A,c=ne,p=te,u=se,v=Z,f=Y,x=G("ripple");return _(),w("div",null,[K(f,{modelValue:z(t),"onUpdate:modelValue":a[1]||(a[1]=e=>$(t)?t.value=e:null),size:z(s)?"100%":"480px","with-header":!1},{default:O(()=>[N("div",oe,[N("div",null,[a[2]||(a[2]=N("span",{class:"text-base font-medium"},"Art Bot",-1)),N("div",ce,[N("div",{class:C(["h-2 w-2 rounded-full",z(r)?"bg-success/100":"bg-danger/100"])},null,2),N("span",de,T(z(r)?"在线":"离线"),1)])]),N("div",null,[K(l,{class:"c-p",size:20,onClick:m},{default:O(()=>[K(z(I))]),_:1})])]),N("div",pe,[N("div",{class:"flex-1 overflow-y-auto border-t-d px-4 py-7.5 [&::-webkit-scrollbar]:!w-1",ref_key:"messageContainer",ref:n},[(_(!0),w(J,null,Q(z(o),(e,a)=>(_(),w("div",{key:a,class:C(["mb-7.5 flex w-full items-start gap-2",e.isMe?"flex-row-reverse":"flex-row"])},[K(c,{size:32,src:e.avatar,class:"shrink-0"},null,8,["src"]),N("div",{class:C(["flex max-w-[70%] flex-col",e.isMe?"items-end":"items-start"])},[N("div",{class:C(["mb-1 flex gap-2 text-xs",e.isMe?"flex-row-reverse":"flex-row"])},[N("span",me,T(e.sender),1),N("span",ue,T(e.time),1)],2),N("div",{class:C(["rounded-md px-3.5 py-2.5 text-sm leading-[1.4] text-g-900",e.isMe?"message-right bg-theme/15":"message-left bg-g-300/50"])},T(e.content),3)],2)],2))),128))],512),N("div",ve,[K(u,{modelValue:z(i),"onUpdate:modelValue":a[0]||(a[0]=e=>$(i)?i.value=e:null),type:"textarea",rows:3,placeholder:"输入消息",resize:"none",onKeyup:R(U(d,["prevent"]),["enter"])},{append:O(()=>[N("div",fe,[K(p,{icon:z(H),circle:"",plain:""},null,8,["icon"]),K(p,{icon:z(L),circle:"",plain:""},null,8,["icon"]),q((_(),M(p,{type:"primary",onClick:d},{default:O(()=>[...a[3]||(a[3]=[W("发送",-1)])]),_:1})),[[x]])])]),_:1},8,["modelValue","onKeyup"]),N("div",xe,[N("div",ge,[K(v,{icon:"ri:image-line",class:"mr-5 c-p text-g-600 text-lg"}),K(v,{icon:"ri:emotion-happy-line",class:"mr-5 c-p text-g-600 text-lg"})]),q((_(),M(p,{type:"primary",onClick:d,class:"min-w-20"},{default:O(()=>[...a[4]||(a[4]=[W("发送",-1)])]),_:1})),[[x]])])])])]),_:1},8,["modelValue","size"])])}}}));export{je as default};
