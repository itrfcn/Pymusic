var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,i=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&s(e,a,t[a]);if(o)for(var a of o(t))l.call(t,a)&&s(e,a,t[a]);return e},r=(e,o)=>t(e,a(o)),u=(e,t,a)=>new Promise((o,n)=>{var l=e=>{try{i(a.next(e))}catch(t){n(t)}},s=e=>{try{i(a.throw(e))}catch(t){n(t)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(l,s);i((a=a.apply(e,t)).next())});import{bD as d,bE as p,a0 as c,S as f,ac as v,ae as m,a5 as b,aZ as y,bF as h,c as g,bG as x,Z as w,av as S,a as C,w as k,bH as z,b0 as E,u as I,n as P,_ as F,d as j,bI as O,by as B,N,bJ as $,bK as _,bL as M,aa as R,a9 as V,o as T,ag as A,e as H,f as L,k as K,a3 as W,h as D,i as U,j as Z,y as G,z as J,an as Y,a1 as q,O as Q,az as X,bM as ee,m as te,g as ae,bN as oe,a7 as ne,ah as le}from"./index-DtLPO4VG.js";import{u as se,d as ie}from"./index-CP_mWmfc.js";import{U as re,I as ue,C as de}from"./event-BwRzfsZt.js";import{u as pe,b as ce,c as fe,d as ve}from"./index-Dw6dGDDE.js";import{i as me}from"./aria-Dle50h-X.js";let be;const ye={height:"0",visibility:"hidden",overflow:p()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},he=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"];function ge(e,t=1,a){var o,n;be||(be=document.createElement("textarea"),(null!=(o=e.parentNode)?o:document.body).appendChild(be));const{paddingSize:l,borderSize:s,boxSizing:i,contextStyle:r}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),n=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:he.map(e=>[e,t.getPropertyValue(e)]),paddingSize:o,borderSize:n,boxSizing:a}}(e);r.forEach(([e,t])=>null==be?void 0:be.style.setProperty(e,t)),Object.entries(ye).forEach(([e,t])=>null==be?void 0:be.style.setProperty(e,t,"important")),be.value=e.value||e.placeholder||"";let u=be.scrollHeight;const p={};"border-box"===i?u+=s:"content-box"===i&&(u-=l),be.value="";const c=be.scrollHeight-l;if(d(t)){let e=c*t;"border-box"===i&&(e=e+l+s),u=Math.max(e,u),p.minHeight=`${e}px`}if(d(a)){let e=c*a;"border-box"===i&&(e=e+l+s),u=Math.min(e,u)}return p.height=`${u}px`,null==(n=be.parentNode)||n.removeChild(be),be=void 0,p}const xe=f(r(i({id:{type:String,default:void 0},size:h,disabled:Boolean,modelValue:{type:v([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:v([Boolean,Object]),default:!1},autocomplete:{type:v(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:b,default:y},showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:b},prefixIcon:{type:b},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:v([Object,Array,String]),default:()=>m({})},autofocus:Boolean,rows:{type:Number,default:2}},se(["ariaLabel"])),{inputmode:{type:v(String),default:void 0},name:String})),we={[re]:e=>c(e),input:e=>c(e),change:e=>c(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Se=["class","style"],Ce=/^on[A-Z]/,ke=(e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,o=g(()=>((null==a?void 0:a.value)||[]).concat(Se)),n=w();return g(n?()=>{var e;return x(Object.entries(null==(e=n.proxy)?void 0:e.$attrs).filter(([e])=>!(o.value.includes(e)||t&&Ce.test(e))))}:()=>({}))};function ze(e,{disabled:t,beforeFocus:a,afterFocus:o,beforeBlur:n,afterBlur:l}={}){const s=w(),{emit:i}=s,r=S(),u=C(!1),d=e=>{const n=!!E(a)&&a(e);I(t)||u.value||n||(u.value=!0,i("focus",e),null==o||o())},p=e=>{var a;const o=!!E(n)&&n(e);I(t)||e.relatedTarget&&(null==(a=r.value)?void 0:a.contains(e.relatedTarget))||o||(u.value=!1,i("blur",e),null==l||l())};return k([r,()=>I(t)],([e,t])=>{e&&(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}),z(r,"focus",d,!0),z(r,"blur",p,!0),z(r,"click",a=>{var o,n;I(t)||me(a.target)||(null==(o=r.value)?void 0:o.contains(document.activeElement))&&r.value!==document.activeElement||null==(n=e.value)||n.focus()},!0),{isFocused:u,wrapperRef:r,handleFocus:d,handleBlur:p}}function Ee({afterComposition:e,emit:t}){const a=C(!1),o=e=>{var o;null==t||t("compositionupdate",e);const n=null==(o=e.target)?void 0:o.value,l=n[n.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},n=o=>{null==t||t("compositionend",o),a.value&&(a.value=!1,P(()=>e(o)))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?n(e):o(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:o,handleCompositionEnd:n}}const Ie=j({name:"ElInput",inheritAttrs:!1});const Pe=le(F(j(r(i({},Ie),{props:xe,emits:we,setup(e,{expose:t,emit:a}){const o=e,n=O(),l=ke(),s=B(),r=g(()=>["textarea"===o.type?y.b():b.b(),b.m(v.value),b.is("disabled",m.value),b.is("exceed",Be.value),{[b.b("group")]:s.prepend||s.append,[b.m("prefix")]:s.prefix||o.prefixIcon,[b.m("suffix")]:s.suffix||o.suffixIcon||o.clearable||o.showPassword,[b.bm("suffix","password-clear")]:Pe.value&&Fe.value,[b.b("hidden")]:"hidden"===o.type},n.class]),d=g(()=>[b.e("wrapper"),b.is("focus",se.value)]),{form:p,formItem:c}=fe(),{inputId:f}=ve(o,{formItemContext:c}),v=pe(),m=ce(),b=N("input"),y=N("textarea"),h=S(),x=S(),w=C(!1),z=C(!1),E=C(),F=S(o.inputStyle),j=g(()=>h.value||x.value),{wrapperRef:le,isFocused:se,handleFocus:me,handleBlur:be}=ze(j,{disabled:m,afterBlur(){var e;o.validateEvent&&(null==(e=null==c?void 0:c.validate)||e.call(c,"blur").catch(e=>ie()))}}),ye=g(()=>{var e;return null!=(e=null==p?void 0:p.statusIcon)&&e}),he=g(()=>(null==c?void 0:c.validateState)||""),xe=g(()=>he.value&&$[he.value]),we=g(()=>z.value?_:M),Se=g(()=>[n.style]),Ce=g(()=>[o.inputStyle,F.value,{resize:o.resize}]),Ie=g(()=>R(o.modelValue)?"":String(o.modelValue)),Pe=g(()=>o.clearable&&!m.value&&!o.readonly&&!!Ie.value&&(se.value||w.value)),Fe=g(()=>o.showPassword&&!m.value&&!!Ie.value),je=g(()=>o.showWordLimit&&!!o.maxlength&&("text"===o.type||"textarea"===o.type)&&!m.value&&!o.readonly&&!o.showPassword),Oe=g(()=>Ie.value.length),Be=g(()=>!!je.value&&Oe.value>Number(o.maxlength)),Ne=g(()=>!!s.suffix||!!o.suffixIcon||Pe.value||o.showPassword||je.value||!!he.value&&ye.value),[$e,_e]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:o,value:n}=e.value;if(null==a||null==o)return;const l=n.slice(0,Math.max(0,a)),s=n.slice(Math.max(0,o));t={selectionStart:a,selectionEnd:o,value:n,beforeTxt:l,afterTxt:s}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:o,afterTxt:n,selectionStart:l}=t;if(null==o||null==n||null==l)return;let s=a.length;if(a.endsWith(n))s=a.length-n.length;else if(a.startsWith(o))s=o.length;else{const e=o[l-1],t=a.indexOf(e,l-1);-1!==t&&(s=t+1)}e.value.setSelectionRange(s,s)}]}(h);V(x,e=>{if(Re(),!je.value||"both"!==o.resize)return;const t=e[0],{width:a}=t.contentRect;E.value={right:`calc(100% - ${a+15+6}px)`}});const Me=()=>{const{type:e,autosize:t}=o;if(oe&&"textarea"===e&&x.value)if(t){const e=ne(t)?t.minRows:void 0,a=ne(t)?t.maxRows:void 0,o=ge(x.value,e,a);F.value=i({overflowY:"hidden"},o),P(()=>{x.value.offsetHeight,F.value=o})}else F.value={minHeight:ge(x.value).minHeight}},Re=(e=>{let t=!1;return()=>{var a;if(t||!o.autosize)return;null===(null==(a=x.value)?void 0:a.offsetParent)||(setTimeout(e),t=!0)}})(Me),Ve=()=>{const e=j.value,t=o.formatter?o.formatter(Ie.value):Ie.value;e&&e.value!==t&&(e.value=t)},Te=e=>u(null,null,function*(){$e();let{value:t}=e.target;o.formatter&&o.parser&&(t=o.parser(t)),He.value||(t!==Ie.value?(a(re,t),a(ue,t),yield P(),Ve(),_e()):Ve())}),Ae=e=>{let{value:t}=e.target;o.formatter&&o.parser&&(t=o.parser(t)),a(de,t)},{isComposing:He,handleCompositionStart:Le,handleCompositionUpdate:Ke,handleCompositionEnd:We}=Ee({emit:a,afterComposition:Te}),De=()=>{$e(),z.value=!z.value,setTimeout(_e)},Ue=e=>{w.value=!1,a("mouseleave",e)},Ze=e=>{w.value=!0,a("mouseenter",e)},Ge=e=>{a("keydown",e)},Je=()=>{a(re,""),a(de,""),a("clear"),a(ue,"")};return k(()=>o.modelValue,()=>{var e;P(()=>Me()),o.validateEvent&&(null==(e=null==c?void 0:c.validate)||e.call(c,"change").catch(e=>ie()))}),k(Ie,()=>Ve()),k(()=>o.type,()=>u(null,null,function*(){yield P(),Ve(),Me()})),T(()=>{!o.formatter&&o.parser,Ve(),P(Me)}),t({input:h,textarea:x,ref:j,textareaStyle:Ce,autosize:A(o,"autosize"),isComposing:He,focus:()=>{var e;return null==(e=j.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=j.value)?void 0:e.blur()},select:()=>{var e;null==(e=j.value)||e.select()},clear:Je,resizeTextarea:Me}),(e,t)=>(L(),H("div",{class:U([I(r),{[I(b).bm("group","append")]:e.$slots.append,[I(b).bm("group","prepend")]:e.$slots.prepend}]),style:ae(I(Se)),onMouseenter:Ze,onMouseleave:Ue},[K(" input "),"textarea"!==e.type?(L(),H(W,{key:0},[K(" prepend slot "),e.$slots.prepend?(L(),H("div",{key:0,class:U(I(b).be("group","prepend"))},[Z(e.$slots,"prepend")],2)):K("v-if",!0),D("div",{ref_key:"wrapperRef",ref:le,class:U(I(d))},[K(" prefix slot "),e.$slots.prefix||e.prefixIcon?(L(),H("span",{key:0,class:U(I(b).e("prefix"))},[D("span",{class:U(I(b).e("prefix-inner"))},[Z(e.$slots,"prefix"),e.prefixIcon?(L(),G(I(q),{key:0,class:U(I(b).e("icon"))},{default:J(()=>[(L(),G(Y(e.prefixIcon)))]),_:1},8,["class"])):K("v-if",!0)],2)],2)):K("v-if",!0),D("input",Q({id:I(f),ref_key:"input",ref:h,class:I(b).e("inner")},I(l),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?z.value?"text":"password":e.type,disabled:I(m),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:I(Le),onCompositionupdate:I(Ke),onCompositionend:I(We),onInput:Te,onChange:Ae,onKeydown:Ge}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),K(" suffix slot "),I(Ne)?(L(),H("span",{key:1,class:U(I(b).e("suffix"))},[D("span",{class:U(I(b).e("suffix-inner"))},[I(Pe)&&I(Fe)&&I(je)?K("v-if",!0):(L(),H(W,{key:0},[Z(e.$slots,"suffix"),e.suffixIcon?(L(),G(I(q),{key:0,class:U(I(b).e("icon"))},{default:J(()=>[(L(),G(Y(e.suffixIcon)))]),_:1},8,["class"])):K("v-if",!0)],64)),I(Pe)?(L(),G(I(q),{key:1,class:U([I(b).e("icon"),I(b).e("clear")]),onMousedown:X(I(ee),["prevent"]),onClick:Je},{default:J(()=>[(L(),G(Y(e.clearIcon)))]),_:1},8,["class","onMousedown"])):K("v-if",!0),I(Fe)?(L(),G(I(q),{key:2,class:U([I(b).e("icon"),I(b).e("password")]),onClick:De},{default:J(()=>[(L(),G(Y(I(we))))]),_:1},8,["class"])):K("v-if",!0),I(je)?(L(),H("span",{key:3,class:U(I(b).e("count"))},[D("span",{class:U(I(b).e("count-inner"))},te(I(Oe))+" / "+te(e.maxlength),3)],2)):K("v-if",!0),I(he)&&I(xe)&&I(ye)?(L(),G(I(q),{key:4,class:U([I(b).e("icon"),I(b).e("validateIcon"),I(b).is("loading","validating"===I(he))])},{default:J(()=>[(L(),G(Y(I(xe))))]),_:1},8,["class"])):K("v-if",!0)],2)],2)):K("v-if",!0)],2),K(" append slot "),e.$slots.append?(L(),H("div",{key:1,class:U(I(b).be("group","append"))},[Z(e.$slots,"append")],2)):K("v-if",!0)],64)):(L(),H(W,{key:1},[K(" textarea "),D("textarea",Q({id:I(f),ref_key:"textarea",ref:x,class:[I(y).e("inner"),I(b).is("focus",I(se))]},I(l),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:I(m),readonly:e.readonly,autocomplete:e.autocomplete,style:I(Ce),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:I(Le),onCompositionupdate:I(Ke),onCompositionend:I(We),onInput:Te,onFocus:I(me),onBlur:I(be),onChange:Ae,onKeydown:Ge}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),I(je)?(L(),H("span",{key:0,style:ae(E.value),class:U(I(b).e("count"))},te(I(Oe))+" / "+te(e.maxlength),7)):K("v-if",!0)],64))],38))}})),[["__file","input.vue"]]));export{Pe as E,ze as a,Ee as b,ke as u};
