var e=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(r,s,t)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;import{d as i,v as m,C as n,a as p,w as d,r as u,c,ax as g,E as f,e as h,f as w,p as v,h as j,y as x,m as y,z as _,u as b,B as P,l as V,G as E,aQ as O}from"./index-DxSWhjl1.js";/* empty css                     *//* empty css                  *//* empty css                    *//* empty css                 */import{_ as $,a as L}from"./LoginLeftView-CjxALIJO.js";import{a as k,E as R}from"./index-WiqLJQME.js";import{E as T}from"./index-CRXlpzmM.js";import{E as q}from"./index-D0y5PuVQ.js";import{E as M}from"./index-Bh_mQ9x7.js";import{_ as U}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./el-dropdown-item-BQzRcAOp.js";import"./index-CD_r_rq4.js";import"./index-DpIcWAeA.js";import"./index-B5405CIA.js";import"./aria-Dle50h-X.js";import"./index-BdUhC8Rj.js";import"./index-B4YNvkKg.js";import"./index-BdOifhfF.js";import"./castArray-CTnnYyy2.js";import"./refs-Cw5r5QN8.js";/* empty css                  *//* empty css                     */import"./index.vue_vue_type_script_setup_true_lang-VvwPD4Pm.js";import"./useHeaderBar-BsSA78LB.js";import"./index-BIS1AiB2.js";import"./_initCloneObject-CnmkLFFW.js";import"./event-BwRzfsZt.js";const B={class:"flex w-full h-screen"},C={class:"relative flex-1"},I={class:"auth-right-wrap"},A={class:"form"},D={class:"title"},F={class:"sub-title"},G={style:{"margin-top":"15px"}},H={class:"mt-5 text-sm text-g-600"},K=i((Q=((e,r)=>{for(var s in r||(r={}))a.call(r,s)&&l(e,s,r[s]);if(t)for(var s of t(r))o.call(r,s)&&l(e,s,r[s]);return e})({},{name:"Register"}),r(Q,s({__name:"index",setup(e){const{t:r,locale:s}=m(),t=n(),a=p(),o=p(!1),l=p(0);d(s,()=>{l.value++});const i=u({username:"",password:"",confirmPassword:"",agreement:!1}),U=(e,s,t)=>{var o;s?(i.confirmPassword&&(null==(o=a.value)||o.validateField("confirmPassword")),t()):t(new Error(r("register.placeholder.password")))},K=(e,s,t)=>{s?s===i.password?t():t(new Error(r("register.rule.passwordMismatch"))):t(new Error(r("register.rule.confirmPasswordRequired")))},Q=(e,s,t)=>{s?t():t(new Error(r("register.rule.agreementRequired")))},S=c(()=>({username:[{required:!0,message:r("register.placeholder.username"),trigger:"blur"},{min:3,max:20,message:r("register.rule.usernameLength"),trigger:"blur"}],password:[{required:!0,validator:U,trigger:"blur"},{min:6,message:r("register.rule.passwordLength"),trigger:"blur"}],confirmPassword:[{required:!0,validator:K,trigger:"blur"}],agreement:[{validator:Q,trigger:"change"}]})),z=()=>{return e=null,r=null,s=function*(){if(a.value)try{yield a.value.validate(),o.value=!0,setTimeout(()=>{o.value=!1,O.success("注册成功"),J()},1e3)}catch(e){o.value=!1}},new Promise((t,a)=>{var o=e=>{try{i(s.next(e))}catch(r){a(r)}},l=e=>{try{i(s.throw(e))}catch(r){a(r)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,l);i((s=s.apply(e,r)).next())});var e,r,s},J=()=>{setTimeout(()=>{t.push({name:"Login"})},1e3)};return(e,r)=>{const s=$,t=L,m=T,n=k,p=g("RouterLink"),d=q,u=M,c=R,O=f("ripple");return w(),h("div",B,[v(s),j("div",C,[v(t),j("div",I,[j("div",A,[j("h3",D,y(e.$t("register.title")),1),j("p",F,y(e.$t("register.subTitle")),1),(w(),x(c,{class:"mt-7.5",ref_key:"formRef",ref:a,model:b(i),rules:b(S),"label-position":"top",key:b(l)},{default:_(()=>[v(n,{prop:"username"},{default:_(()=>[v(m,{class:"custom-height",modelValue:b(i).username,"onUpdate:modelValue":r[0]||(r[0]=e=>b(i).username=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder.username")},null,8,["modelValue","placeholder"])]),_:1}),v(n,{prop:"password"},{default:_(()=>[v(m,{class:"custom-height",modelValue:b(i).password,"onUpdate:modelValue":r[1]||(r[1]=e=>b(i).password=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder.password"),type:"password",autocomplete:"off","show-password":""},null,8,["modelValue","placeholder"])]),_:1}),v(n,{prop:"confirmPassword"},{default:_(()=>[v(m,{class:"custom-height",modelValue:b(i).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>b(i).confirmPassword=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder.confirmPassword"),type:"password",autocomplete:"off",onKeyup:P(z,["enter"]),"show-password":""},null,8,["modelValue","placeholder"])]),_:1}),v(n,{prop:"agreement"},{default:_(()=>[v(d,{modelValue:b(i).agreement,"onUpdate:modelValue":r[3]||(r[3]=e=>b(i).agreement=e)},{default:_(()=>[V(y(e.$t("register.agreeText"))+" ",1),v(p,{style:{color:"var(--theme-color)","text-decoration":"none"},to:"/privacy-policy"},{default:_(()=>[V(y(e.$t("register.privacyPolicy")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),j("div",G,[E((w(),x(u,{class:"w-full custom-height",type:"primary",onClick:z,loading:b(o)},{default:_(()=>[V(y(e.$t("register.submitBtnText")),1)]),_:1},8,["loading"])),[[O]])]),j("div",H,[j("span",null,y(e.$t("register.hasAccount")),1),v(p,{class:"text-theme",to:{name:"Login"}},{default:_(()=>[V(y(e.$t("register.toLogin")),1)]),_:1})])]),_:1},8,["model","rules"]))])])])])}}}))));var Q;const S=U(K,[["__scopeId","data-v-48c5f07c"]]);export{S as default};
