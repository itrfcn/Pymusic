# 网易云音乐项目分析接口文档

## 接口概述
本文档描述了网易云音乐项目中分析模块的所有接口，包括接口URL、请求方法、请求参数、响应格式等详细信息。这些接口主要用于获取网站的用户增长、访问量、访问路径和用户IP位置等分析数据。

## 接口基础信息
- 接口前缀：`/analytics`
- 认证方式：无需认证
- 响应格式：JSON，统一包含`code`、`msg`和`data`字段

## 1. 获取用户增长数据接口

### 接口信息
- URL: `/analytics/user-growth`
- 方法: `GET`
- 功能: 获取网站用户增长数据，支持按日期范围查询

### 请求参数
| 参数名 | 类型 | 必填 | 描述 |
|--------|------|------|------|
| start_date | String | 否 | 开始日期，格式为YYYY-MM-DD |
| end_date | String | 否 | 结束日期，格式为YYYY-MM-DD |

### 响应格式

#### 成功响应 (200 OK)
```json
{
  "code": 200,
  "msg": "获取用户增长数据成功",
  "data": {
    "2023-01-01": 10,
    "2023-01-02": 15,
    "2023-01-03": 20
  }
}
```

#### 失败响应
- **400 Bad Request**: 日期格式错误
```json
{
  "code": 400,
  "msg": "日期格式错误，应为YYYY-MM-DD",
  "data": null
}
```

- **500 Internal Server Error**: 系统错误
```json
{
  "code": 500,
  "msg": "系统错误，请稍后重试",
  "data": null
}
```

## 2. 获取网站访问量数据接口

### 接口信息
- URL: `/analytics/website-visits`
- 方法: `GET`
- 功能: 获取网站访问量数据，支持按日期范围查询

### 请求参数
| 参数名 | 类型 | 必填 | 描述 |
|--------|------|------|------|
| start_date | String | 否 | 开始日期，格式为YYYY-MM-DD |
| end_date | String | 否 | 结束日期，格式为YYYY-MM-DD |

### 响应格式

#### 成功响应 (200 OK)
```json
{
  "code": 200,
  "msg": "获取网站访问量数据成功",
  "data": {
    "total_visits": 1000,
    "daily_visits": {
      "2023-01-01": 100,
      "2023-01-02": 150,
      "2023-01-03": 200
    }
  }
}
```

#### 失败响应
- **400 Bad Request**: 日期格式错误
```json
{
  "code": 400,
  "msg": "日期格式错误，应为YYYY-MM-DD",
  "data": null
}
```

- **500 Internal Server Error**: 系统错误
```json
{
  "code": 500,
  "msg": "系统错误，请稍后重试",
  "data": null
}
```

## 3. 获取网站访问路径数据接口

### 接口信息
- URL: `/analytics/visit-paths`
- 方法: `GET`
- 功能: 获取网站访问路径统计数据

### 请求参数
无

### 响应格式

#### 成功响应 (200 OK)
```json
{
  "code": 200,
  "msg": "获取访问路径数据成功",
  "data": {
    "/": 500,
    "/music": 300,
    "/user/1": 200,
    "/playlists": 150
  }
}
```

#### 失败响应
- **500 Internal Server Error**: 系统错误
```json
{
  "code": 500,
  "msg": "系统错误，请稍后重试",
  "data": null
}
```

## 4. 获取用户IP位置数据接口

### 接口信息
- URL: `/analytics/ip-locations`
- 方法: `GET`
- 功能: 获取网站用户IP地址统计数据

### 请求参数
无

### 响应格式

#### 成功响应 (200 OK)
```json
{
  "code": 200,
  "msg": "获取IP位置数据成功",
  "data": {
    "total_ips": 500,
    "ip_counts": {
      "192.168.1.1": 100,
      "10.0.0.1": 80,
      "172.16.0.1": 50
    }
  }
}
```

#### 失败响应
- **500 Internal Server Error**: 系统错误
```json
{
  "code": 500,
  "msg": "系统错误，请稍后重试",
  "data": null
}
```

## 5. 获取仪表盘综合数据接口

### 接口信息
- URL: `/analytics/dashboard`
- 方法: `GET`
- 功能: 获取仪表盘综合数据，包括过去7天的用户增长、访问量、访问路径和IP位置等数据

### 请求参数
无

### 响应格式

#### 成功响应 (200 OK)
```json
{
  "code": 200,
  "msg": "获取仪表盘数据成功",
  "data": {
    "total_users": 10000,
    "total_visits": 50000,
    "total_ips": 20000,
    "user_growth": {
      "2023-01-01": 10,
      "2023-01-02": 15,
      "2023-01-03": 20,
      "2023-01-04": 25,
      "2023-01-05": 30,
      "2023-01-06": 35,
      "2023-01-07": 40
    },
    "daily_visits": {
      "2023-01-01": 100,
      "2023-01-02": 150,
      "2023-01-03": 200,
      "2023-01-04": 250,
      "2023-01-05": 300,
      "2023-01-06": 350,
      "2023-01-07": 400
    },
    "top_paths": {
      "/": 500,
      "/music": 300,
      "/user/1": 200,
      "/playlists": 150,
      "/search": 100
    },
    "top_ips": {
      "192.168.1.1": 100,
      "10.0.0.1": 80,
      "172.16.0.1": 50,
      "192.168.0.1": 40,
      "10.0.0.2": 30
    }
  }
}
```

#### 失败响应
- **500 Internal Server Error**: 系统错误
```json
{
  "code": 500,
  "msg": "系统错误，请稍后重试",
  "data": null
}
```

## 6. 响应状态码说明

| 状态码 | 描述 |
|--------|------|
| 200 | 请求成功 |
| 400 | 请求参数错误 |
| 500 | 系统内部错误 |

## 7. 错误码说明

| 错误码 | 描述 |
|--------|------|
| 200 | 操作成功 |
| 400 | 请求参数错误 |
| 500 | 系统错误 |
