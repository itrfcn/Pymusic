var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,i=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&r(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&r(e,s,a[s]);return e},d=(e,t)=>a(e,s(t));import{S as n,dy as u,c,dz as f,a as v,w as p,bH as b,b as y,bA as m,_ as h,d as g,by as w,N as k,bV as z,y as C,f as A,z as R,p as E,T as O,u as j,G as x,h as _,O as F,az as L,e as P,k as $,i as S,j as T,m as B,a1 as H,a$ as I,g as D,a2 as q,ah as N}from"./index-DtLPO4VG.js";import{E as X}from"./index-ClKRQ_I3.js";import{E as Y,a as G}from"./index-BrpO1YGF.js";import{c as M,e as Q,u as U}from"./use-dialog-BBStnoor.js";import{e as V}from"./index-Dw6dGDDE.js";const W=n(d(i({},Q),{direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}})),J=M;function K(e,a){const{width:s,height:t}=u(),l=c(()=>["ltr","rtl"].includes(e.direction)),o=c(()=>["ltr","ttb"].includes(e.direction)?1:-1),r=c(()=>l.value?s.value:t.value),i=c(()=>f(d.value+o.value*n.value,4,r.value)),d=v(0),n=v(0),h=v(!1),g=v(!1);let w=[],k=[];p(()=>[e.size,e.resizable],()=>{g.value=!1,d.value=0,n.value=0,C()});const z=e=>{const{pageX:a,pageY:s}=e,t=a-w[0],o=s-w[1];n.value=l.value?t:o},C=()=>{w=[],d.value=i.value,n.value=0,h.value=!1,k.forEach(e=>null==e?void 0:e()),k=[]},A=b(a,"mousedown",s=>{e.resizable&&(g.value||(d.value=(()=>{var e;const s=null==(e=a.value)?void 0:e.closest('[aria-modal="true"]');return s?l.value?s.offsetWidth:s.offsetHeight:100})(),g.value=!0),w=[s.pageX,s.pageY],h.value=!0,k.push(b(window,"mouseup",C),b(window,"mousemove",z)))});return y(()=>{A(),C()}),{size:c(()=>g.value?`${i.value}px`:m(e.size)),isResizing:h,isHorizontal:l}}const Z=g({name:"ElDrawer",inheritAttrs:!1});const ee=N(h(g(d(i({},Z),{props:W,emits:J,setup(e,{expose:a}){const s=e,t=w();V({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},c(()=>!!t.title));const l=v(),o=v(),r=v(),i=k("drawer"),{t:d}=z(),{afterEnter:n,afterLeave:u,beforeLeave:f,visible:p,rendered:b,titleId:y,bodyId:m,zIndex:h,onModalClick:g,onOpenAutoFocus:N,onCloseAutoFocus:M,onFocusoutPrevented:Q,onCloseRequested:W,handleClose:J}=U(s,l),{isHorizontal:Z,size:ee,isResizing:ae}=K(s,r);return a({handleClose:J,afterEnter:n,afterLeave:u}),(e,a)=>(A(),C(j(G),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:R(()=>[E(O,{name:j(i).b("fade"),onAfterEnter:j(n),onAfterLeave:j(u),onBeforeLeave:j(f),persisted:""},{default:R(()=>{var a;return[x(E(j(X),{mask:e.modal,"overlay-class":[j(i).is("drawer"),null!=(a=e.modalClass)?a:""],"z-index":j(h),onClick:j(g)},{default:R(()=>[E(j(Y),{loop:"",trapped:j(p),"focus-trap-el":l.value,"focus-start-el":o.value,onFocusAfterTrapped:j(N),onFocusAfterReleased:j(M),onFocusoutPrevented:j(Q),onReleaseRequested:j(W)},{default:R(()=>[_("div",F({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:j(y),"aria-describedby":j(m)},e.$attrs,{class:[j(i).b(),e.direction,j(p)&&"open",j(i).is("dragging",j(ae))],style:{[j(Z)?"width":"height"]:j(ee)},role:"dialog",onClick:L(()=>{},["stop"])}),[_("span",{ref_key:"focusStartRef",ref:o,class:S(j(i).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(A(),P("header",{key:0,class:S([j(i).e("header"),e.headerClass])},[e.$slots.title?T(e.$slots,"title",{key:1},()=>[$(" DEPRECATED SLOT ")]):T(e.$slots,"header",{key:0,close:j(J),titleId:j(y),titleClass:j(i).e("title")},()=>[_("span",{id:j(y),role:"heading","aria-level":e.headerAriaLevel,class:S(j(i).e("title"))},B(e.title),11,["id","aria-level"])]),e.showClose?(A(),P("button",{key:2,"aria-label":j(d)("el.drawer.close"),class:S(j(i).e("close-btn")),type:"button",onClick:j(J)},[E(j(H),{class:S(j(i).e("close"))},{default:R(()=>[E(j(I))]),_:1},8,["class"])],10,["aria-label","onClick"])):$("v-if",!0)],2)):$("v-if",!0),j(b)?(A(),P("div",{key:1,id:j(m),class:S([j(i).e("body"),e.bodyClass])},[T(e.$slots,"default")],10,["id"])):$("v-if",!0),e.$slots.footer?(A(),P("div",{key:2,class:S([j(i).e("footer"),e.footerClass])},[T(e.$slots,"footer")],2)):$("v-if",!0),e.resizable?(A(),P("div",{key:3,ref_key:"draggerRef",ref:r,style:D({zIndex:j(h)}),class:S(j(i).e("dragger"))},null,6)):$("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[q,j(p)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}})),[["__file","drawer.vue"]]));export{ee as E};
