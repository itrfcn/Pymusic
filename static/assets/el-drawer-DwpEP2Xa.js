var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,i=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&r(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&r(e,s,a[s]);return e},d=(e,t)=>a(e,s(t));import{S as n,dy as u,c,dz as f,a as v,w as p,bH as b,b as y,bA as m,_ as h,d as g,by as w,N as k,bV as z,y as C,f as A,z as R,p as E,T as j,u as x,G as O,h as _,O as F,az as L,e as P,k as S,i as $,j as T,m as B,a1 as H,a$ as I,g as D,a2 as q,ah as N}from"./index-DxSWhjl1.js";import{E as X}from"./index-DqeJCCY1.js";import{E as Y,a as G}from"./index-B5405CIA.js";import{c as M,e as U,u as V}from"./use-dialog-DNz0WzI-.js";import{e as W}from"./index-B4YNvkKg.js";const J=n(d(i({},U),{direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}})),K=M;function Q(e,a){const{width:s,height:t}=u(),l=c(()=>["ltr","rtl"].includes(e.direction)),o=c(()=>["ltr","ttb"].includes(e.direction)?1:-1),r=c(()=>l.value?s.value:t.value),i=c(()=>f(d.value+o.value*n.value,4,r.value)),d=v(0),n=v(0),h=v(!1),g=v(!1);let w=[],k=[];p(()=>[e.size,e.resizable],()=>{g.value=!1,d.value=0,n.value=0,C()});const z=e=>{const{pageX:a,pageY:s}=e,t=a-w[0],o=s-w[1];n.value=l.value?t:o},C=()=>{w=[],d.value=i.value,n.value=0,h.value=!1,k.forEach(e=>null==e?void 0:e()),k=[]},A=b(a,"mousedown",s=>{e.resizable&&(g.value||(d.value=(()=>{var e;const s=null==(e=a.value)?void 0:e.closest('[aria-modal="true"]');return s?l.value?s.offsetWidth:s.offsetHeight:100})(),g.value=!0),w=[s.pageX,s.pageY],h.value=!0,k.push(b(window,"mouseup",C),b(window,"mousemove",z)))});return y(()=>{A(),C()}),{size:c(()=>g.value?`${i.value}px`:m(e.size)),isResizing:h,isHorizontal:l}}const Z=g({name:"ElDrawer",inheritAttrs:!1});const ee=N(h(g(d(i({},Z),{props:J,emits:K,setup(e,{expose:a}){const s=e,t=w();W({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},c(()=>!!t.title));const l=v(),o=v(),r=v(),i=k("drawer"),{t:d}=z(),{afterEnter:n,afterLeave:u,beforeLeave:f,visible:p,rendered:b,titleId:y,bodyId:m,zIndex:h,onModalClick:g,onOpenAutoFocus:N,onCloseAutoFocus:M,onFocusoutPrevented:U,onCloseRequested:J,handleClose:K}=V(s,l),{isHorizontal:Z,size:ee,isResizing:ae}=Q(s,r);return a({handleClose:K,afterEnter:n,afterLeave:u}),(e,a)=>(A(),C(x(G),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:R(()=>[E(j,{name:x(i).b("fade"),onAfterEnter:x(n),onAfterLeave:x(u),onBeforeLeave:x(f),persisted:""},{default:R(()=>{var a;return[O(E(x(X),{mask:e.modal,"overlay-class":[x(i).is("drawer"),null!=(a=e.modalClass)?a:""],"z-index":x(h),onClick:x(g)},{default:R(()=>[E(x(Y),{loop:"",trapped:x(p),"focus-trap-el":l.value,"focus-start-el":o.value,onFocusAfterTrapped:x(N),onFocusAfterReleased:x(M),onFocusoutPrevented:x(U),onReleaseRequested:x(J)},{default:R(()=>[_("div",F({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:x(y),"aria-describedby":x(m)},e.$attrs,{class:[x(i).b(),e.direction,x(p)&&"open",x(i).is("dragging",x(ae))],style:{[x(Z)?"width":"height"]:x(ee)},role:"dialog",onClick:L(()=>{},["stop"])}),[_("span",{ref_key:"focusStartRef",ref:o,class:$(x(i).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(A(),P("header",{key:0,class:$([x(i).e("header"),e.headerClass])},[e.$slots.title?T(e.$slots,"title",{key:1},()=>[S(" DEPRECATED SLOT ")]):T(e.$slots,"header",{key:0,close:x(K),titleId:x(y),titleClass:x(i).e("title")},()=>[_("span",{id:x(y),role:"heading","aria-level":e.headerAriaLevel,class:$(x(i).e("title"))},B(e.title),11,["id","aria-level"])]),e.showClose?(A(),P("button",{key:2,"aria-label":x(d)("el.drawer.close"),class:$(x(i).e("close-btn")),type:"button",onClick:x(K)},[E(x(H),{class:$(x(i).e("close"))},{default:R(()=>[E(x(I))]),_:1},8,["class"])],10,["aria-label","onClick"])):S("v-if",!0)],2)):S("v-if",!0),x(b)?(A(),P("div",{key:1,id:x(m),class:$([x(i).e("body"),e.bodyClass])},[T(e.$slots,"default")],10,["id"])):S("v-if",!0),e.$slots.footer?(A(),P("div",{key:2,class:$([x(i).e("footer"),e.footerClass])},[T(e.$slots,"footer")],2)):S("v-if",!0),e.resizable?(A(),P("div",{key:3,ref_key:"draggerRef",ref:r,style:D({zIndex:x(h)}),class:$(x(i).e("dragger"))},null,6)):S("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[q,x(p)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}})),[["__file","drawer.vue"]]));export{ee as E};
